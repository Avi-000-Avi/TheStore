{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/avinash/Desktop/Projects/TheStore/frontend/components/CreateProduct.js\";\nimport { useMutation } from '@apollo/client';\nimport useForm from '../lib/useForm';\nimport Form from './styles/Form';\nimport DisplayError from './ErrorMessage';\nimport gql from 'graphql-tag';\nconst CREATE_PRODUCT_MUTATIONS = gql`\nmutation REATE_PRODUCT_MUTATIONS(\n        # Which variables are getting passed in? And What types are they\n    $name: String!\n    $description:String!\n    $price:Int!\n    $image: Upload\n){\n  createProduct(\n      data:{\n    name:$name\n    description:$description\n    price:$price\n    status:\"AVAILABLE\"\n    photo: {create:{image:$image,altText:$name}}\n  }) {\n    id\n    price\n    description\n    name\n  }\n}\n`;\nexport default function CreateProduct() {\n  const {\n    inputs,\n    handleChange,\n    clearForm,\n    resetForm\n  } = useForm({\n    image: '',\n    name: 'Nice shorts',\n    price: 4578,\n    description: 'Comfy'\n  });\n  const [createProduct, {\n    loading,\n    error,\n    data\n  }] = useMutation(CREATE_PRODUCT_MUTATIONS, {\n    variables: inputs\n  });\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: async e => {\n      e.preventDefault();\n      console.log(inputs); //Submit the input fields to backend\n\n      await createProduct();\n      console.log(res);\n    },\n    children: [/*#__PURE__*/_jsxDEV(DisplayError, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      disabled: loading,\n      \"aria-busy\": loading,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: [\"Image\", /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"file\",\n          id: \"image\",\n          name: \"image\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"name\",\n          value: inputs.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"price\",\n        children: [\"Price\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          placeholder: \"price\",\n          value: inputs.price,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: [\"Description\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          id: \"description\",\n          name: \"description\",\n          placeholder: \"description\",\n          value: inputs.description,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: resetForm,\n        children: \" + Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/home/avinash/Desktop/Projects/TheStore/frontend/components/CreateProduct.js"],"names":["useMutation","useForm","Form","DisplayError","gql","CREATE_PRODUCT_MUTATIONS","CreateProduct","inputs","handleChange","clearForm","resetForm","image","name","price","description","createProduct","loading","error","data","variables","e","preventDefault","console","log","res"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,MAAMC,wBAAwB,GAAKD,GAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAtBA;AA0BA,eAAe,SAASE,aAAT,GAAwB;AACnC,QAAM;AAACC,IAAAA,MAAD;AAAQC,IAAAA,YAAR;AAAqBC,IAAAA,SAArB;AAA+BC,IAAAA;AAA/B,MAA6CT,OAAO,CAAC;AACrDU,IAAAA,KAAK,EAAC,EAD+C;AAErDC,IAAAA,IAAI,EAAC,aAFgD;AAGrDC,IAAAA,KAAK,EAAC,IAH+C;AAIrDC,IAAAA,WAAW,EAAC;AAJyC,GAAD,CAA1D;AAOA,QAAM,CAACC,aAAD,EAAe;AAACC,IAAAA,OAAD;AAASC,IAAAA,KAAT;AAAeC,IAAAA;AAAf,GAAf,IAAuClB,WAAW,CACpDK,wBADoD,EAC3B;AACzBc,IAAAA,SAAS,EAACZ;AADe,GAD2B,CAAxD;AAMA,sBACI,QAAC,IAAD;AACA,IAAA,QAAQ,EAAE,MAAOa,CAAP,IAAa;AACnBA,MAAAA,CAAC,CAACC,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYhB,MAAZ,EAFmB,CAGnB;;AACA,YAAMQ,aAAa,EAAnB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACC,KAPL;AAAA,4BAQA,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YARA,eASA;AAAU,MAAA,QAAQ,EAAER,OAApB;AAA6B,mBAAWA,OAAxC;AAAA,8BACA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA,yCACA;AAAO,UAAA,QAAQ,MAAf;AAAgB,UAAA,IAAI,EAAC,MAArB;AAA4B,UAAA,EAAE,EAAC,OAA/B;AAAuC,UAAA,IAAI,EAAC,OAA5C;AAAoD,UAAA,QAAQ,EAAER;AAA9D;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAIA;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA,wCACA;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,EAAE,EAAC,MAAtB;AAA6B,UAAA,IAAI,EAAC,MAAlC;AAAyC,UAAA,WAAW,EAAC,MAArD;AAA4D,UAAA,KAAK,EAAGD,MAAM,CAACK,IAA3E;AAAiF,UAAA,QAAQ,EAAEJ;AAA3F;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJA,eAOA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA,yCACA;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,EAAE,EAAC,OAAxB;AAAgC,UAAA,IAAI,EAAC,OAArC;AAA6C,UAAA,WAAW,EAAC,OAAzD;AAAiE,UAAA,KAAK,EAAGD,MAAM,CAACM,KAAhF;AAAuF,UAAA,QAAQ,EAAEL;AAAjG;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA,eAUA;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA,+CACA;AAAU,UAAA,IAAI,EAAC,MAAf;AAAsB,UAAA,EAAE,EAAC,aAAzB;AAAuC,UAAA,IAAI,EAAC,aAA5C;AAA0D,UAAA,WAAW,EAAC,aAAtE;AAAoF,UAAA,KAAK,EAAGD,MAAM,CAACO,WAAnG;AAAgH,UAAA,QAAQ,EAAEN;AAA1H;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVA,eAiBA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEE,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBA;AAAA;AAAA;AAAA;AAAA;AAAA,YATA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA+BH","sourcesContent":["import { useMutation } from '@apollo/client';\nimport useForm from '../lib/useForm';\nimport Form from './styles/Form'; \nimport DisplayError from './ErrorMessage';\nimport gql from 'graphql-tag';\n\nconst CREATE_PRODUCT_MUTATIONS =   gql`\nmutation REATE_PRODUCT_MUTATIONS(\n        # Which variables are getting passed in? And What types are they\n    $name: String!\n    $description:String!\n    $price:Int!\n    $image: Upload\n){\n  createProduct(\n      data:{\n    name:$name\n    description:$description\n    price:$price\n    status:\"AVAILABLE\"\n    photo: {create:{image:$image,altText:$name}}\n  }) {\n    id\n    price\n    description\n    name\n  }\n}\n`;\n\n\n\nexport default function CreateProduct(){\n    const {inputs,handleChange,clearForm,resetForm} =  useForm({\n          image:'',\n          name:'Nice shorts',\n          price:4578,\n          description:'Comfy',\n    });\n\n    const [createProduct,{loading,error,data}] = useMutation(\n        CREATE_PRODUCT_MUTATIONS,{\n        variables:inputs\n        }\n    );\n\n    return (\n        <Form \n        onSubmit={async (e) => {\n            e.preventDefault();\n            console.log(inputs);\n            //Submit the input fields to backend\n            await createProduct();\n            console.log(res);\n            }}> \n        <DisplayError/>\n        <fieldset disabled={loading} aria-busy={loading}>  \n        <label htmlFor=\"image\">Image\n        <input required type=\"file\" id=\"image\" name=\"image\" onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"name\">Name \n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"name\" value ={inputs.name} onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"price\">Price\n        <input type=\"number\" id=\"price\" name=\"price\" placeholder=\"price\" value ={inputs.price} onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"description\">Description\n        <textarea type=\"text\" id=\"description\" name=\"description\" placeholder=\"description\" value ={inputs.description} onChange={handleChange}/>\n        </label>\n\n        {/*<button type=\"button\" onClick={clearForm}>Clear Form</button>\n        <button type=\"submit\" onClick={resetForm}>Reset Form</button>\n        */}\n        <button type=\"submit\" onClick={resetForm}> + Add Product</button>\n        </fieldset>\n        </Form>\n    )\n} "]},"metadata":{},"sourceType":"module"}