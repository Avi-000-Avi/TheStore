{"ast":null,"code":"import _regeneratorRuntime from \"/home/avinash/Desktop/Projects/TheStore/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/avinash/Desktop/Projects/TheStore/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/avinash/Desktop/Projects/TheStore/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/avinash/Desktop/Projects/TheStore/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/avinash/Desktop/Projects/TheStore/frontend/components/CreateProduct.js\",\n    _s = $RefreshSig$();\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nmutation REATE_PRODUCT_MUTATIONS(\\n    $name: String!\\n    $description:String!\\n    $price:Int!\\n    $image:Upload\\n){\\n  createProduct(data:{\\n    name:$name,\\n    description:$description,\\n    price:$price,\\n    status:\\\"AVAILABLE\\\",\\n    photo: {create:{image:$image,alttext:$name}}\\n  }) {\\n    id\\n    price\\n    description\\n    name\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation } from '@apollo/client';\nimport useForm from '../lib/useForm';\nimport Form from './styles/Form';\nimport DisplayError from './ErrorMessage';\nimport gql from 'graphql-tag';\nvar CREATE_PRODUCT_MUTATIONS = gql(_templateObject());\nexport default function CreateProduct() {\n  _s();\n\n  var _useForm = useForm({\n    image: '',\n    name: 'Nice shorts',\n    price: 4578,\n    description: 'Comfy '\n  }),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      clearForm = _useForm.clearForm,\n      resetForm = _useForm.resetForm;\n\n  var _useMutation = useMutation(CREATE_PRODUCT_MUTATIONS, {\n    variables: inputs\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      createProduct = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error,\n      data = _useMutation2$.data;\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log(inputs); //Submit the input fields to backend\n\n                _context.next = 4;\n                return createProduct();\n\n              case 4:\n                res = _context.sent;\n                console.log(res);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    children: [/*#__PURE__*/_jsxDEV(DisplayError, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      disable: loading,\n      \"aria-aria-busy\": loading,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: [\"Image\", /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"file\",\n          id: \"image\",\n          name: \"image\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"name\",\n          value: inputs.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"price\",\n        children: [\"Price\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          placeholder: \"price\",\n          value: inputs.price,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: [\"Description\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          id: \"description\",\n          name: \"description\",\n          placeholder: \"description\",\n          value: inputs.description,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: resetForm,\n        children: \" + Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateProduct, \"Qug/p4HB0lgomi9E5Nx9A1bBMm8=\", false, function () {\n  return [useForm, useMutation];\n});\n\n_c = CreateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"sources":["/home/avinash/Desktop/Projects/TheStore/frontend/components/CreateProduct.js"],"names":["useMutation","useForm","Form","DisplayError","gql","CREATE_PRODUCT_MUTATIONS","CreateProduct","image","name","price","description","inputs","handleChange","clearForm","resetForm","variables","createProduct","loading","error","data","e","preventDefault","console","log","res"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,IAAMC,wBAAwB,GAAKD,GAAL,mBAA9B;AAwBA,eAAe,SAASE,aAAT,GAAwB;AAAA;;AAAA,iBACgBL,OAAO,CAAC;AACrDM,IAAAA,KAAK,EAAC,EAD+C;AAErDC,IAAAA,IAAI,EAAC,aAFgD;AAGrDC,IAAAA,KAAK,EAAC,IAH+C;AAIrDC,IAAAA,WAAW,EAAC;AAJyC,GAAD,CADvB;AAAA,MAC5BC,MAD4B,YAC5BA,MAD4B;AAAA,MACrBC,YADqB,YACrBA,YADqB;AAAA,MACRC,SADQ,YACRA,SADQ;AAAA,MACEC,SADF,YACEA,SADF;;AAAA,qBAQUd,WAAW,CAACK,wBAAD,EAA0B;AAC9EU,IAAAA,SAAS,EAACJ;AADoE,GAA1B,CARrB;AAAA;AAAA,MAQ5BK,aAR4B;AAAA;AAAA,MAQbC,OARa,kBAQbA,OARa;AAAA,MAQLC,KARK,kBAQLA,KARK;AAAA,MAQCC,IARD,kBAQCA,IARD;;AAYnC,sBACI,QAAC,IAAD;AAAM,IAAA,QAAQ;AAAA,0EAAE,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZA,gBAAAA,CAAC,CAACC,cAAF;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ,EAFY,CAGZ;;AAHY;AAAA,uBAIMK,aAAa,EAJnB;;AAAA;AAINQ,gBAAAA,GAJM;AAKZF,gBAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;AAAA,OAAd;AAAA,4BAOA,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YAPA,eAQA;AAAU,MAAA,OAAO,EAAEP,OAAnB;AAA4B,wBAAgBA,OAA5C;AAAA,8BACA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA,yCACA;AAAO,UAAA,QAAQ,MAAf;AAAgB,UAAA,IAAI,EAAC,MAArB;AAA4B,UAAA,EAAE,EAAC,OAA/B;AAAuC,UAAA,IAAI,EAAC,OAA5C;AAAoD,UAAA,QAAQ,EAAEL;AAA9D;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAIA;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA,wCACA;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,EAAE,EAAC,MAAtB;AAA6B,UAAA,IAAI,EAAC,MAAlC;AAAyC,UAAA,WAAW,EAAC,MAArD;AAA4D,UAAA,KAAK,EAAGD,MAAM,CAACH,IAA3E;AAAiF,UAAA,QAAQ,EAAEI;AAA3F;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJA,eAOA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA,yCACA;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,EAAE,EAAC,OAAxB;AAAgC,UAAA,IAAI,EAAC,OAArC;AAA6C,UAAA,WAAW,EAAC,OAAzD;AAAiE,UAAA,KAAK,EAAGD,MAAM,CAACF,KAAhF;AAAuF,UAAA,QAAQ,EAAEG;AAAjG;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA,eAUA;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA,+CACA;AAAU,UAAA,IAAI,EAAC,MAAf;AAAsB,UAAA,EAAE,EAAC,aAAzB;AAAuC,UAAA,IAAI,EAAC,aAA5C;AAA0D,UAAA,WAAW,EAAC,aAAtE;AAAoF,UAAA,KAAK,EAAGD,MAAM,CAACD,WAAnG;AAAgH,UAAA,QAAQ,EAAEE;AAA1H;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVA,eAiBA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEE,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBA;AAAA;AAAA;AAAA;AAAA;AAAA,YARA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA8BH;;GA1CuBR,a;UAC+BL,O,EAOND,W;;;KARzBM,a","sourcesContent":["import { useMutation } from '@apollo/client';\nimport useForm from '../lib/useForm';\nimport Form from './styles/Form'; \nimport DisplayError from './ErrorMessage';\nimport gql from 'graphql-tag';\n\nconst CREATE_PRODUCT_MUTATIONS =   gql`\nmutation REATE_PRODUCT_MUTATIONS(\n    $name: String!\n    $description:String!\n    $price:Int!\n    $image:Upload\n){\n  createProduct(data:{\n    name:$name,\n    description:$description,\n    price:$price,\n    status:\"AVAILABLE\",\n    photo: {create:{image:$image,alttext:$name}}\n  }) {\n    id\n    price\n    description\n    name\n  }\n}\n`;\n\n\n\nexport default function CreateProduct(){\n    const {inputs,handleChange,clearForm,resetForm} =  useForm({\n          image:'',\n          name:'Nice shorts',\n          price:4578,\n          description:'Comfy ',\n    });\n\n    const [createProduct,{loading,error,data}] = useMutation(CREATE_PRODUCT_MUTATIONS,{\n        variables:inputs\n    });\n\n    return (\n        <Form onSubmit={async (e) => {\n            e.preventDefault();\n            console.log(inputs);\n            //Submit the input fields to backend\n            const res = await createProduct();\n            console.log(res);\n            }}> \n        <DisplayError/>\n        <fieldset disable={loading} aria-aria-busy={loading}>  \n        <label htmlFor=\"image\">Image\n        <input required type=\"file\" id=\"image\" name=\"image\" onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"name\">Name \n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"name\" value ={inputs.name} onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"price\">Price\n        <input type=\"number\" id=\"price\" name=\"price\" placeholder=\"price\" value ={inputs.price} onChange={handleChange}/>\n        </label>\n        <label htmlFor=\"description\">Description\n        <textarea type=\"text\" id=\"description\" name=\"description\" placeholder=\"description\" value ={inputs.description} onChange={handleChange}/>\n        </label>\n\n        {/*<button type=\"button\" onClick={clearForm}>Clear Form</button>\n        <button type=\"submit\" onClick={resetForm}>Reset Form</button>\n        */}\n        <button type=\"submit\" onClick={resetForm}> + Add Product</button>\n        </fieldset>\n        </Form>\n    )\n} "]},"metadata":{},"sourceType":"module"}